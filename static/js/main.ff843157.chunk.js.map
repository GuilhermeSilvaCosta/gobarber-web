{"version":3,"sources":["components/Loading/styles.js","components/Loading/index.js","pages/SignIn/index.js","store/modules/auth/reducer.js","store/modules/user/reducer.js","store/modules/rootReducer.js","services/history.js","store/modules/auth/sagas.js","store/modules/user/sagas.js","store/modules/rootSaga.js","store/index.js","store/persistReducers.js","store/createStore.js","pages/_layouts/auth/styles.js","pages/_layouts/auth/index.js","components/Notifications/styles.js","components/Notifications/index.js","components/Header/styles.js","components/Header/index.js","pages/_layouts/default/styles.js","pages/_layouts/default/index.js","routes/Route.js","routes/index.js","styles/global.js","App.js","index.js","services/api.js","store/modules/auth/actions.js","store/modules/user/actios.js","assets/logo.svg","assets/purple-logo.svg"],"names":["Container","styled","p","Loading","schema","Yup","shape","email","required","password","SignIn","dispatch","useDispatch","loading","useSelector","state","auth","src","logo","alt","style","height","width","onSubmit","signInRequest","name","type","placeholder","to","INITIAL_STATE","token","signed","profile","combineReducers","action","produce","draft","payload","user","history","createBrowserHistory","basename","process","signIn","signUp","call","api","post","response","data","provider","toast","error","defaults","headers","Authorization","put","signInSuccess","push","signFailure","all","takeLatest","updateProfile","avatar_id","rest","oldPassword","success","updateProfileSuccess","updateProfileFailure","rootSaga","reducers","sagaMiddleware","createSagaMiddleware","middlewares","store","enhancer","applyMiddleware","createStore","rootReducer","persistReducer","key","storage","whitelist","persistor","persistStore","run","Wrapper","div","Content","darken","AuthLayout","children","Badge","button","props","hasUnread","css","NotificationList","visible","Scroll","PerfectScrollBar","Notification","lighten","unread","Notifications","useState","setVisible","notifications","setNotifications","useMemo","some","notification","read","id","a","map","_id","useEffect","get","timeDistance","formatDistance","parseISO","createdAt","Date","addSuffix","locale","pt","loadNotifications","onClick","color","size","content","handleMarkAsRead","Profile","Header","avatar","url","DefaultLayout","RouteWrapper","Component","component","isPrivate","getState","Layout","render","Routes","path","exact","React","lazy","defaultProps","createGlobalStyle","App","Suspense","fallback","autoClose","ReactDOM","document","getElementById","axios","create","baseURL","signUpRequest","signOut","updateProfileRequest","module","exports"],"mappings":"uSAEO,IAAMA,EAAYC,IAAOC,EAAV,KCUPC,MARf,WACI,OACI,kBAACH,EAAD,oB,iDCIFI,EAASC,MAAaC,MAAM,CAC9BC,MAAOF,MACFE,MAAM,8BACNC,SAAS,6BACdC,SAAUJ,MAAaG,SAAS,iCAGrB,SAASE,IACpB,IAAMC,EAAWC,cACXC,EAAUC,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKH,WAMlD,OACI,oCACI,yBAAKI,IAAKC,IAAMC,IAAI,WAAWC,MAAO,CAAEC,OAAQ,OAAQC,MAAO,UAE/D,kBAAC,IAAD,CAAMlB,OAAQA,EAAQmB,SAR9B,YAA4C,IAApBhB,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,SAC3BE,EAASa,YAAcjB,EAAOE,MAQtB,kBAAC,IAAD,CAAOgB,KAAK,QAAQC,KAAK,QAAQC,YAAY,eAC7C,kBAAC,IAAD,CAAOF,KAAK,WAAWC,KAAK,WAAWC,YAAY,sBAEnD,4BAAQD,KAAK,UAAWb,EAAU,gBAAkB,WACpD,kBAAC,IAAD,CAAMe,GAAG,aAAT,0B,qEChCVC,EAAgB,CAClBC,MAAO,KACPC,QAAQ,EACRlB,SAAS,GCHb,IAAMgB,EAAgB,CAClBG,QAAS,MCEEC,kBAAgB,CAC3BjB,KFEW,WAA8C,IAAhCD,EAA+B,uDAAvBc,EAAeK,EAAQ,uCACxD,OAAOC,YAAQpB,GAAO,SAAAqB,GAClB,OAAQF,EAAOR,MACf,IAAK,wBACDU,EAAMvB,SAAU,EAChB,MAEJ,IAAK,wBACDuB,EAAMN,MAAQI,EAAOG,QAAQP,MAC7BM,EAAML,QAAS,EACfK,EAAMvB,SAAU,EAChB,MAEJ,IAAK,qBACDuB,EAAMvB,SAAU,EAChB,MAEJ,IAAK,iBACDuB,EAAMN,MAAQ,KACdM,EAAML,QAAS,OEpBvBO,KDDW,WAA8C,IAAhCvB,EAA+B,uDAAvBc,EAAeK,EAAQ,uCACxD,OAAOC,YAAQpB,GAAO,SAAAqB,GAClB,OAAQF,EAAOR,MACf,IAAK,wBACDU,EAAMJ,QAAUE,EAAOG,QAAQC,KAC/B,MAEJ,IAAK,+BACDF,EAAMJ,QAAUE,EAAOG,QAAQL,QAC/B,MAEJ,IAAK,iBACDI,EAAMJ,QAAU,Y,yCEZbO,EAJCC,YAAqB,CACjCC,SAAUC,kB,WCMGC,G,WA2BAC,GA3BV,SAAUD,EAAV,sFAIkB,OAJCN,EAAnB,EAAmBA,QAAnB,SAES9B,EAAoB8B,EAApB9B,MAAOE,EAAa4B,EAAb5B,SAFhB,SAIwBoC,YAAKC,IAAIC,KAAM,WAAY,CAC9CxC,QACAE,aANL,UAIOuC,EAJP,SASyBA,EAASC,KAAzBnB,EATT,EASSA,OAAOQ,EAThB,EASgBA,MAELY,SAXX,wBAYKC,IAAMC,MAAM,oCAZjB,2BAkBC,OAFAN,IAAIO,SAASC,QAAQC,cAArB,iBAA+CzB,GAhBhD,UAkBO0B,YAAIC,YAAc3B,EAAOQ,IAlBhC,QAoBCC,EAAQmB,KAAK,cApBd,wBAuBC,OAvBD,0BAsBCP,IAAMC,MAAM,qDAtBb,UAuBOI,YAAIG,eAvBX,sDA2BA,SAAUf,EAAV,gFAIC,OAJkBP,EAAnB,EAAmBA,QAAnB,SAESZ,EAA0BY,EAA1BZ,KAAMlB,EAAoB8B,EAApB9B,MAAOE,EAAa4B,EAAb5B,SAFtB,SAIOoC,YAAKC,IAAIC,KAAM,QAAS,CAC1BtB,OAAMlB,QAAOE,WAAUyC,UAAU,IALtC,OAQCX,EAAQmB,KAAK,KARd,uBAYC,OAZD,yBAUCP,IAAMC,MAAM,4CAVb,UAYOI,YAAIG,eAZX,qDA4BQC,kBAAI,CACfC,YAAW,qBAbR,YAAgC,IAAZxB,EAAW,EAAXA,QACvB,GAAKA,GAAYA,EAAQrB,KAAzB,CADkC,IAG1Bc,EAAUO,EAAQrB,KAAlBc,MAEJA,IAAOgB,IAAIO,SAASC,QAAQC,cAArB,iBAA+CzB,QAS1D+B,YAAW,wBAAyBlB,GACpCkB,YAAW,wBAAyBjB,GACpCiB,YAAW,kBARR,WACHtB,EAAQmB,KAAK,U,2BCrDAI,GAAV,SAAUA,EAAV,wFAakB,OAbQzB,EAA1B,EAA0BA,QAA1B,EAGCA,EAAQY,KADRxB,EAFD,EAECA,KAAMlB,EAFP,EAEOA,MAAOwD,EAFd,EAEcA,UAAcC,EAF5B,4CAKGhC,EALH,aAMCP,OACAlB,QACAwD,aACIC,EAAKC,YAAcD,EAAO,IAT/B,kBAawBnB,YAAKC,IAAIU,IAAK,QAASxB,GAb/C,OAeC,OAFMgB,EAbP,OAcCG,IAAMe,QAAQ,kCAdf,UAeOV,YAAIW,YAAqBnB,EAASC,OAfzC,gCAkBC,OAlBD,0BAiBCE,IAAMC,MAAM,iDAjBb,UAkBOI,YAAIY,eAlBX,sDAsBQR,kBAAI,CACfC,YAAW,+BAAgCC,K,WC1BtBO,GAAV,SAAUA,IAAV,iEACJ,OADI,SACET,YAAI,CAAC5C,EAAMsB,IADb,+ECIf,ICNegC,EDMTC,GAAiBC,cAEjBC,GAAc,CAACF,IAEfG,GEXS,SAACJ,EAAUG,GACtB,IAAME,EAAWC,IAAe,WAAf,cAAmBH,IACpC,OAAOI,YAAYP,EAAUK,GFSnBE,ECVCP,EDU2BQ,ECTbC,YAAe,CACpCC,IAAK,WACLC,YACAC,UAAW,IACZZ,IDKiDG,IAClDU,GAAYC,YAAaV,IAE/BH,GAAec,IAAIhB,G,8iDGbZ,IAAMiB,GAAUrF,IAAOsF,IAAV,MAQPC,GAAUvF,IAAOsF,IAAV,KA2CUE,aAAO,IAAM,YCjD5B,SAASC,GAAT,GAAmC,IAAbC,EAAY,EAAZA,SACjC,OACI,kBAACL,GAAD,KAAS,kBAACE,GAAD,KAAUG,I,gwECHpB,IAAM3F,GAAYC,IAAOsF,IAAV,MAITK,GAAQ3F,IAAO4F,OAAV,MAKZ,SAAAC,GAAK,OAAIA,EAAMC,WAAaC,YAAnB,SAcFC,GAAmBhG,IAAOsF,IAAV,MAQd,SAAAO,GAAK,OAAKA,EAAMI,QAAU,QAAU,UAgBtCC,GAASlG,YAAOmG,KAAPnG,CAAH,MAKNoG,GAAepG,IAAOsF,IAAV,KAyBRe,aAAQ,GAAK,YAIxB,SAAAR,GAAK,OAAIA,EAAMS,QAAUP,YAAhB,SC5EA,SAASQ,KAAiB,IAAD,EACNC,oBAAS,GADH,oBAC7BP,EAD6B,KACpBQ,EADoB,OAEMD,mBAAS,IAFf,oBAE7BE,EAF6B,KAEdC,EAFc,KAI9Bb,EAAYc,mBACd,kBAAMF,EAAcG,MAAK,SAAAC,GAAY,OAAKA,EAAaC,UACvD,CAACL,IAN+B,6CA6BpC,WAAgCM,GAAhC,SAAAC,EAAA,sEACUpE,IAAIU,IAAJ,wBAAyByD,IADnC,OAEIL,EAEID,EAAcQ,KAAI,SAAAJ,GAAY,OAAKA,EAAaK,MAAQH,EAArB,2BAA+BF,GAA/B,IAA6CC,MAAM,IAASD,MAJvG,4CA7BoC,sBAqCpC,OA5BAM,qBAAU,WAAM,6CACZ,8BAAAH,EAAA,sEAC2BpE,IAAIwE,IAAI,iBADnC,OACUtE,EADV,OAEUC,EAAOD,EAASC,KAAKkE,KAAI,SAAAJ,GAAY,kCACpCA,GADoC,IAEvCQ,aAAcC,aACVC,aAASV,EAAaW,WACtB,IAAIC,KACJ,CAAEC,WAAW,EAAMC,OAAQC,YAGnClB,EAAiB3D,GAVrB,4CADY,uBAAC,WAAD,wBAaZ8E,KACD,IAeC,kBAAC,GAAD,KACI,kBAACnC,GAAD,CAAOoC,QAdf,WACItB,GAAYR,IAa8BH,UAAWA,GAC7C,kBAAC,KAAD,CAAiBkC,MAAM,UAAUC,KAAM,MAG3C,kBAACjC,GAAD,CAAkBC,QAASA,GACvB,kBAACC,GAAD,KACMQ,EAAcQ,KAAI,SAAAJ,GAAY,OAC5B,kBAACV,GAAD,CAAcrB,IAAK+B,EAAaK,IAAKb,QAASQ,EAAaC,MACvD,2BAAID,EAAaoB,SACjB,8BAAOpB,EAAaQ,eAClBR,EAAaC,MACX,4BAAQgB,QAAS,kBAlDT,2CAkDeI,CAAiBrB,EAAaK,MAAM1F,KAAK,UAAhE,2B,0zCCzDzB,IAAM1B,GAAYC,IAAOsF,IAAV,MAKTC,GAAUvF,IAAOsF,IAAV,MAgCP8C,GAAUpI,IAAOsF,IAAV,MChCL,SAAS+C,KACpB,IAAMtG,EAAUlB,aAAY,SAAAC,GAAK,OAAIA,EAAMuB,KAAKN,WAEhD,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,KACI,6BACI,yBAAKf,IAAKC,KAAMC,IAAI,aACpB,kBAAC,IAAD,CAAMS,GAAG,cAAT,cAGJ,+BACI,kBAAC4E,GAAD,MACA,kBAAC6B,GAAD,KACI,6BACI,gCAASrG,EAAQP,MACjB,kBAAC,IAAD,CAAMG,GAAG,YAAT,eAEJ,yBACIX,IAAMe,EAAQuG,QAAUvG,EAAQuG,OAAOC,KAAQ,wDAC/CrH,IAAKa,EAAQP,W,wJCzBlC,IAAM6D,GAAUrF,IAAOsF,IAAV,MCGL,SAASkD,GAAT,GAAsC,IAAb9C,EAAY,EAAZA,SACpC,OACI,kBAAC,GAAD,KACI,kBAAC2C,GAAD,MACC3C,GCAE,SAAS+C,GAAT,GAIX,IAHWC,EAGZ,EAHCC,UAGD,IAFCC,iBAED,SADI7E,EACJ,yCACSjC,EAAW2C,GAAMoE,WAAW9H,KAA5Be,OAER,IAAKA,GAAU8G,EACX,OAAO,kBAAC,IAAD,CAAUjH,GAAG,MAGxB,GAAIG,IAAW8G,EACX,OAAO,kBAAC,IAAD,CAAUjH,GAAG,eAGxB,IAAMmH,EAAShH,EAAS0G,GAAgB/C,GAGxC,OAAO,kBAAC,IAAD,iBAAW1B,EAAX,CAAiBgF,OAAQ,SAAAlD,GAAK,OAAI,kBAACiD,EAAD,KAAQ,kBAACJ,EAAc7C,QCrBrD,SAASmD,KACpB,OACI,kBAAC,IAAD,KACI,kBAAC,GAAD,CAAOC,KAAK,IAAIC,OAAK,EAACP,UAAWlI,IACjC,kBAAC,GAAD,CAAOwI,KAAK,YAAYN,UAAWQ,IAAMC,MAAK,kBAAM,mCACpD,kBAAC,GAAD,CAAOH,KAAK,aAAaN,UAAWQ,IAAMC,MAAK,kBAAM,uDAA4BR,WAAS,IAC1F,kBAAC,GAAD,CAAOK,KAAK,WAAWN,UAAWQ,IAAMC,MAAK,kBAAM,iCAA0BR,WAAS,IAEtF,kBAAC,GAAD,CAAOK,KAAK,IAAIN,UAAW,kBAAM,uCDsB7CF,GAAaY,aAAe,CACxBT,WAAW,G,wqBEhCAU,mBAAf,MCyBeC,OAhBf,WACI,OACI,kBAAC,IAAD,CAAU9E,MAAOA,IACb,kBAAC,IAAD,CAAaS,UAAWA,IACpB,kBAAC,IAAD,CAAQ5C,QAASA,GACb,kBAAC,IAAMkH,SAAP,CAAgBC,SAAU,kBAAC,EAAD,OACtB,kBAACT,GAAD,OAEJ,kBAAC,GAAD,MACA,kBAAC,IAAD,CAAgBU,UAAW,UCnB/CC,IAASZ,OAAO,kBAAC,GAAD,MAASa,SAASC,eAAe,U,gCCJjD,YAEMhH,EAFN,OAEYiH,EAAMC,OAAO,CACrBC,QAAS,oCAGEnH,O,gCCNR,SAAStB,EAAcjB,EAAOE,GACjC,MAAO,CACHiB,KAAM,wBACNW,QAAS,CAAE9B,QAAOE,aAInB,SAASgD,EAAc3B,EAAOQ,GACjC,MAAO,CACHZ,KAAM,wBACNW,QAAS,CAAEP,QAAOQ,SAInB,SAAS4H,EAAczI,EAAMlB,EAAOE,GACvC,MAAO,CACHiB,KAAM,wBACNW,QAAS,CAAEZ,OAAMlB,QAAOE,aAIzB,SAASkD,IACZ,MAAO,CACHjC,KAAM,sBAIP,SAASyI,IACZ,MAAO,CACHzI,KAAM,kBA7Bd,2K,gCCAO,SAAS0I,EAAqBnH,GACjC,MAAO,CACHvB,KAAM,+BACNW,QAAS,CAAEY,SAIZ,SAASkB,EAAqBnC,GACjC,MAAO,CACHN,KAAM,+BACNW,QAAS,CAAEL,YAIZ,SAASoC,IACZ,MAAO,CACH1C,KAAM,gCAhBd,uG,mBCAA2I,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,yC","file":"static/js/main.ff843157.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.p`\n    color: #fff;\n`;\n","import React from 'react';\n\nimport { Container } from './styles';\n\nfunction Loading() {\n    return (\n        <Container>\n            Loading...\n        </Container>\n    );\n}\n\nexport default Loading;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Form, Input } from '@rocketseat/unform';\nimport * as Yup from 'yup';\n\nimport { signInRequest } from 'store/modules/auth/actions';\n\nimport logo from 'assets/logo.svg';\n\nconst schema = Yup.object().shape({\n    email: Yup.string()\n        .email('Insita um e-mail válido')\n        .required('O e-mail é obrigatorio'),\n    password: Yup.string().required('A senha é obrigatória'),\n});\n\nexport default function SignIn() {\n    const dispatch = useDispatch();\n    const loading = useSelector((state) => state.auth.loading);\n\n    function handleSubmit({ email, password }) {\n        dispatch(signInRequest(email, password));\n    }\n\n    return (\n        <>\n            <img src={logo} alt=\"GoBarber\" style={{ height: '64px', width: '64px' }} />\n\n            <Form schema={schema} onSubmit={handleSubmit}>\n                <Input name=\"email\" type=\"email\" placeholder=\"Seu e-mail\" />\n                <Input name=\"password\" type=\"password\" placeholder=\"Sua senha secreta\" />\n\n                <button type=\"submit\">{ loading ? 'Carregando...' : 'Acessar'}</button>\n                <Link to=\"/register\">Criar conta gratuita</Link>\n            </Form>\n        </>\n    );\n}\n","import produce from 'immer';\n\nconst INITIAL_STATE = {\n    token: null,\n    signed: false,\n    loading: false,\n};\n\nexport default function auth(state = INITIAL_STATE, action) {\n    return produce(state, draft => {\n        switch (action.type) {\n        case '@auth/SIGN_IN_REQUEST': {\n            draft.loading = true;\n            break;\n        }\n        case '@auth/SIGN_IN_SUCCESS': {\n            draft.token = action.payload.token;\n            draft.signed = true;\n            draft.loading = false;\n            break;\n        }\n        case '@auth/SIGN_FAILURE': {\n            draft.loading = false;\n            break;\n        }\n        case '@auth/SIGN_OUT': {\n            draft.token = null;\n            draft.signed = false;\n            break;\n        }\n        default:\n        }\n    });\n}\n","import produce from 'immer';\n\nconst INITIAL_STATE = {\n    profile: null,\n};\n\nexport default function auth(state = INITIAL_STATE, action) {\n    return produce(state, draft => {\n        switch (action.type) {\n        case '@auth/SIGN_IN_SUCCESS': {\n            draft.profile = action.payload.user;\n            break;\n        }\n        case '@user/UPDATE_PROFILE_SUCCESS': {\n            draft.profile = action.payload.profile;\n            break;\n        }\n        case '@auth/SIGN_OUT': {\n            draft.profile = null;\n            break;\n        }\n        default:\n        }\n    });\n}\n","import { combineReducers } from 'redux';\n\nimport auth from './auth/reducer';\nimport user from './user/reducer';\n\nexport default combineReducers({\n    auth,\n    user,\n});\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory({\n    basename: process.env.PUBLIC_URL,\n});\n\nexport default history;\n","import {\n    takeLatest, call, put, all,\n} from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\n\nimport api from 'services/api';\nimport history from 'services/history';\nimport { signInSuccess, signFailure } from './actions';\n\nexport function* signIn({ payload }) {\n    try {\n        const { email, password } = payload;\n\n        const response = yield call(api.post, 'sessions', {\n            email,\n            password,\n        });\n\n        const { token, user } = response.data;\n\n        if (!user.provider) {\n            toast.error('Usuário não é prestador');\n            return;\n        }\n\n        api.defaults.headers.Authorization = `Bearer ${token}`;\n\n        yield put(signInSuccess(token, user));\n\n        history.push('/dashboard');\n    } catch (e) {\n        toast.error('Falha na autenticação, verifique seus dados');\n        yield put(signFailure());\n    }\n}\n\nexport function* signUp({ payload }) {\n    try {\n        const { name, email, password } = payload;\n\n        yield call(api.post, 'users', {\n            name, email, password, provider: true,\n        });\n\n        history.push('/');\n    } catch (e) {\n        toast.error('Falha no cadastro, verifique seus dados!');\n\n        yield put(signFailure());\n    }\n}\n\nexport function setToken({ payload }) {\n    if (!payload || !payload.auth) return;\n\n    const { token } = payload.auth;\n\n    if (token) api.defaults.headers.Authorization = `Bearer ${token}`;\n}\n\nexport function signOut() {\n    history.push('/');\n}\n\nexport default all([\n    takeLatest('persist/REHYDRATE', setToken),\n    takeLatest('@auth/SIGN_IN_REQUEST', signIn),\n    takeLatest('@auth/SIGN_UP_REQUEST', signUp),\n    takeLatest('@auth/SIGN_OUT', signOut),\n]);\n","import {\n    takeLatest, call, put, all,\n} from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport api from 'services/api';\n\nimport { updateProfileSuccess, updateProfileFailure } from './actios';\n\nexport function* updateProfile({ payload }) {\n    const {\n        name, email, avatar_id, ...rest\n    } = payload.data;\n\n    const profile = {\n        name,\n        email,\n        avatar_id,\n        ...(rest.oldPassword ? rest : {}),\n    };\n\n    try {\n        const response = yield call(api.put, 'users', profile);\n        toast.success('Perfil atualizado com sucesso!');\n        yield put(updateProfileSuccess(response.data));\n    } catch (e) {\n        toast.error('Erro ao atualizar perfil, confira seus dados!');\n        yield put(updateProfileFailure());\n    }\n}\n\nexport default all([\n    takeLatest('@user/UPDATE_PROFILE_REQUEST', updateProfile),\n]);\n","import { all } from 'redux-saga/effects';\n\nimport auth from './auth/sagas';\nimport user from './user/sagas';\n\nexport default function* rootSaga() {\n    return yield all([auth, user]);\n}\n","import { persistStore } from 'redux-persist';\nimport createSagaMiddleware from 'redux-saga';\n\nimport createStore from './createStore';\nimport persistReducers from './persistReducers';\n\nimport rootReducer from './modules/rootReducer';\nimport rootSaga from './modules/rootSaga';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst middlewares = [sagaMiddleware];\n\nconst store = createStore(persistReducers(rootReducer), middlewares);\nconst persistor = persistStore(store);\n\nsagaMiddleware.run(rootSaga);\n\nexport { store, persistor };\n","import storage from 'redux-persist/lib/storage';\nimport { persistReducer } from 'redux-persist';\n\nexport default reducers => {\n    const persistedReducer = persistReducer({\n        key: 'gobarber',\n        storage,\n        whitelist: [], // ['auth', 'user'],\n    }, reducers);\n\n    return persistedReducer;\n};\n","import { createStore, applyMiddleware } from 'redux';\n\nexport default (reducers, middlewares) => {\n    const enhancer = applyMiddleware(...middlewares);\n    return createStore(reducers, enhancer);\n};\n","import styled from 'styled-components';\nimport { darken } from 'polished';\n\nexport const Wrapper = styled.div`\n    height: 100%;\n    background: linear-gradient(-90deg, #7159c1, #ab59c1);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nexport const Content = styled.div`\n    width: 100%;\n    max-width: 315px;\n    text-align: center;\n    \n    form {\n        display: flex;\n        flex-direction: column;\n        margin-top: 30px;\n\n        input {\n            background: rgba(0, 0, 0, 0.1);\n            border: 0;\n            border-radius: 4px;\n            height: 44px;\n            padding: 0 15px;\n            color: #FFF;\n            margin: 0 0 10px;\n\n            &::placeholder {\n                color: rgba(255, 255, 255, 0.7);\n            }\n        }\n\n        span {\n            color: #fb6f91;\n            align-self: flex-start;\n            margin: 0 0 10px;\n            font-weight: bold;\n        }\n\n        button {\n            margin: 5px 0 0;\n            height: 44px;\n            background: #3b9eff;\n            font-weight: bold;\n            color: #FFF;\n            border: 0;\n            border-radius: 4px;\n            font-size: 16px;\n            transition: backgound 0.2s;\n\n            &:hover {\n                background: ${darken(0.03, '#3b9eff')}\n            }\n\n        }\n\n        a {\n            color: #FFF;\n            margin-top: 15px;\n            font-size: 16px;\n            opacity: 0.8;\n\n            &:hover {\n                opacity: 1;\n            }\n        }\n    }\n`;\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport { Wrapper, Content } from './styles';\n\nexport default function AuthLayout({ children }) {\n    return (\n        <Wrapper><Content>{children}</Content></Wrapper>\n    );\n}\n\nAuthLayout.propTypes = {\n    children: PropTypes.element.isRequired,\n};\n","import styled, { css } from 'styled-components';\nimport { lighten } from 'polished';\nimport PerfectScrollBar from 'react-perfect-scrollbar';\n\nexport const Container = styled.div`\n    position: relative;\n`;\n\nexport const Badge = styled.button`\n    position: relative;\n    border: 0;\n    background: none;\n\n    ${props => props.hasUnread && css`\n        &::after {\n            position: absolute;\n            right: 0;\n            top: 0;\n            width: 8px;\n            height: 8px;\n            background: #ff892e;\n            content: '';\n            border-radius: 50%;\n        }\n    `}\n`;\n\nexport const NotificationList = styled.div`\n    position: absolute;\n    width: 260px;\n    left: calc(50% - 130px);\n    top: calc(100% + 30px);\n    background: rgba(0, 0, 0, 0.6);\n    border-radius: 4px;\n    padding: 15px 5px;\n    display: ${props => (props.visible ? 'block' : 'none')};\n    z-index: 2;\n\n    &::before {\n        content: '';\n        position: absolute;\n        left: calc(50% - 20px);\n        top: -20px;\n        width: 0;\n        height: 0;\n        border-left: 20px solid transparent;\n        border-right: 20px solid transparent;\n        border-bottom: 20px solid rgba(0, 0, 0, 0.6)\n    }\n`;\n\nexport const Scroll = styled(PerfectScrollBar)`\n    max-height: 260px;\n    padding: 5px 15px;\n`;\n\nexport const Notification = styled.div`\n    color: #FFF;\n\n    & + div {\n        margin-top: 15px;\n        padding-top: 15px;\n        border-top: 1px solid rgba(255, 255, 255, 0.1)\n    }\n\n    p {\n        font-size: 13px;\n        line-height: 18px;\n    }\n\n    time {\n        font-size: 12px;\n        opacity: 0.6;\n    }\n\n    button {\n        font-size: 12px;\n        padding: 0 5px;\n        margin: 0 5px;\n        border: 0;\n        background: none;\n        color: ${lighten(0.2, '#7159c1')};\n        border-left: 1px solid rgba(255, 255, 255, 0.1)\n    }\n\n    ${props => props.unread && css`\n        &::after {\n            content: '';\n            display: inline-block;\n            width: 8px;\n            height: 8px;\n            background: #ff892e;\n            border-radius: 50px;\n        }\n    `}\n\n`;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { MdNotifications } from 'react-icons/md';\nimport api from 'services/api';\nimport { parseISO, formatDistance } from 'date-fns';\nimport pt from 'date-fns/locale/pt';\nimport {\n    Container, Badge, NotificationList, Notification, Scroll,\n} from './styles';\n\nexport default function Notifications() {\n    const [visible, setVisible] = useState(false);\n    const [notifications, setNotifications] = useState([]);\n\n    const hasUnread = useMemo(\n        () => notifications.some(notification => !notification.read),\n        [notifications],\n    );\n\n    useEffect(() => {\n        async function loadNotifications() {\n            const response = await api.get('notifications');\n            const data = response.data.map(notification => ({\n                ...notification,\n                timeDistance: formatDistance(\n                    parseISO(notification.createdAt),\n                    new Date(),\n                    { addSuffix: true, locale: pt },\n                ),\n            }));\n            setNotifications(data);\n        }\n        loadNotifications();\n    }, []);\n\n    function handleToggleVisisble() {\n        setVisible(!visible);\n    }\n\n    async function handleMarkAsRead(id) {\n        await api.put(`notifications/${id}`);\n        setNotifications(\n            // eslint-disable-next-line max-len\n            notifications.map(notification => (notification._id === id ? { ...notification, read: true } : notification)),\n        );\n    }\n\n    return (\n        <Container>\n            <Badge onClick={handleToggleVisisble} hasUnread={hasUnread}>\n                <MdNotifications color=\"#7159c1\" size={20} />\n            </Badge>\n\n            <NotificationList visible={visible}>\n                <Scroll>\n                    { notifications.map(notification => (\n                        <Notification key={notification._id} unread={!notification.read}>\n                            <p>{notification.content}</p>\n                            <time>{notification.timeDistance}</time>\n                            {!notification.read && (\n                                <button onClick={() => handleMarkAsRead(notification._id)} type=\"button\">Marcar como lida</button>\n                            )}\n                        </Notification>\n                    )) }\n                </Scroll>\n            </NotificationList>\n        </Container>\n    );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n    background: #fff;\n    padding:0 30px;\n`;\n\nexport const Content = styled.div`\n    height: 64px;\n    max-width: 900px;\n    margin: 0 auto;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    nav {\n        display: flex;\n        align-items: center;\n\n        img {\n            margin-right: 20px;\n            padding-right: 20px;\n            border-right: 1px solid #eee;\n            height: 64px;\n            width: 64px;\n        }\n\n        a {\n            font-weight: bold;\n            color: #7159c1;\n        }\n    }\n\n    aside {\n        display: flex;\n        align-items: center;\n    }\n`;\n\nexport const Profile = styled.div`\n    display: flex;\n    margin-left: 20px;\n    padding-left: 20px;\n    border-left: 1px solid #eee;\n\n    div {\n        text-align: right;\n        margin-right: 10px;\n\n        strong {\n            display: block;\n            color: #333;\n        }\n\n        a {\n            display: block;\n            margin-top: 2px;\n            font-size: 12px;\n            color: #999;\n        }\n\n    }\n    img {\n        width: 32px;\n        height: 32px;\n        border-radius: 50%;\n    }\n`;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport logo from 'assets/purple-logo.svg';\nimport Notifications from 'components/Notifications';\nimport { Container, Content, Profile } from './styles';\n\nexport default function Header() {\n    const profile = useSelector(state => state.user.profile);\n\n    return (\n        <Container>\n            <Content>\n                <nav>\n                    <img src={logo} alt=\"GoBarber\" />\n                    <Link to=\"/dashboard\">DASHBOARD</Link>\n                </nav>\n\n                <aside>\n                    <Notifications />\n                    <Profile>\n                        <div>\n                            <strong>{profile.name}</strong>\n                            <Link to=\"/profile\">Meu perfil</Link>\n                        </div>\n                        <img\n                            src={(profile.avatar && profile.avatar.url) || 'https://api.adorable.io/avatars/50/abott@adorable.png'}\n                            alt={profile.name}\n                        />\n                    </Profile>\n                </aside>\n            </Content>\n        </Container>\n    );\n}\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n    height: 100%;\n    background: linear-gradient(-90deg, #7159c1, #ab59c1);\n`;\n","import React from 'react';\nimport Header from 'components/Header';\nimport PropTypes from 'prop-types';\nimport { Wrapper } from './styles';\n\nexport default function DefaultLayout({ children }) {\n    return (\n        <Wrapper>\n            <Header />\n            {children}\n        </Wrapper>\n    );\n}\n\nDefaultLayout.propTypes = {\n    children: PropTypes.element.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { store } from 'store';\nimport AuthLayout from '../pages/_layouts/auth';\nimport DefaultLayout from '../pages/_layouts/default';\n\n\nexport default function RouteWrapper({\n    component: Component,\n    isPrivate = false,\n    ...rest\n}) {\n    const { signed } = store.getState().auth;\n\n    if (!signed && isPrivate) {\n        return <Redirect to=\"/\" />;\n    }\n\n    if (signed && !isPrivate) {\n        return <Redirect to=\"/dashboard\" />;\n    }\n\n    const Layout = signed ? DefaultLayout : AuthLayout;\n\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    return <Route {...rest} render={props => <Layout><Component {...props} /></Layout>} />;\n}\n\nRouteWrapper.propTypes = {\n    isPrivate: PropTypes.bool,\n    component: PropTypes.oneOfType([PropTypes.element, PropTypes.func, PropTypes.object])\n        .isRequired,\n};\n\nRouteWrapper.defaultProps = {\n    isPrivate: false,\n};\n","import React from 'react';\nimport { Switch } from 'react-router-dom';\n\nimport SignIn from 'pages/SignIn';\nimport Route from './Route';\n\nexport default function Routes() {\n    return (\n        <Switch>\n            <Route path=\"/\" exact component={SignIn} />\n            <Route path=\"/register\" component={React.lazy(() => import('pages/SignUp'))} />\n            <Route path=\"/dashboard\" component={React.lazy(() => import('pages/Dashboard'))} isPrivate />\n            <Route path=\"/profile\" component={React.lazy(() => import('pages/Profile'))} isPrivate />\n\n            <Route path=\"/\" component={() => <h1>404</h1>} />\n        </Switch>\n    );\n}\n","import { createGlobalStyle } from 'styled-components';\n\nimport 'react-perfect-scrollbar/dist/css/styles.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default createGlobalStyle`\n    @import url('https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap');\n\n    * {\n        margin: 0;\n        padding: 0;\n        outline: 0;\n        box-sizing: border-box;\n    }\n\n    *:focus {\n        outline: 0;\n    }\n\n    html, body, #root {\n        height: 100%;\n    }\n\n    body {\n        -webkit-font-smoothing: antialiased;\n    }\n\n    body, input, button {\n        font: 14px 'Roboto', sans-serif;\n    }\n\n    a {\n        text-decoration: none;\n    }\n\n    ul {\n        list-style: none\n    }\n\n    button {\n        cursor: pointer;\n    }\n`;\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { Provider } from 'react-redux';\nimport { Router } from 'react-router-dom';\n\nimport Loading from 'components/Loading';\nimport Routes from './routes';\nimport history from './services/history';\n\nimport { store, persistor } from './store';\n\nimport GlobalStyle from './styles/global';\n\nfunction App() {\n    return (\n        <Provider store={store}>\n            <PersistGate persistor={persistor}>\n                <Router history={history}>\n                    <React.Suspense fallback={<Loading />}>\n                        <Routes />\n                    </React.Suspense>\n                    <GlobalStyle />\n                    <ToastContainer autoClose={3000} />\n                </Router>\n            </PersistGate>\n        </Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: 'https://potfolio.redirectme.net',\n});\n\nexport default api;\n","export function signInRequest(email, password) {\n    return {\n        type: '@auth/SIGN_IN_REQUEST',\n        payload: { email, password },\n    };\n}\n\nexport function signInSuccess(token, user) {\n    return {\n        type: '@auth/SIGN_IN_SUCCESS',\n        payload: { token, user },\n    };\n}\n\nexport function signUpRequest(name, email, password) {\n    return {\n        type: '@auth/SIGN_UP_REQUEST',\n        payload: { name, email, password },\n    };\n}\n\nexport function signFailure() {\n    return {\n        type: '@auth/SIGN_FAILURE',\n    };\n}\n\nexport function signOut() {\n    return {\n        type: '@auth/SIGN_OUT',\n    };\n}\n","export function updateProfileRequest(data) {\n    return {\n        type: '@user/UPDATE_PROFILE_REQUEST',\n        payload: { data },\n    };\n}\n\nexport function updateProfileSuccess(profile) {\n    return {\n        type: '@user/UPDATE_PROFILE_SUCCESS',\n        payload: { profile },\n    };\n}\n\nexport function updateProfileFailure() {\n    return {\n        type: '@user/UPDATE_PROFILE_FAILURE',\n    };\n}\n","module.exports = __webpack_public_path__ + \"static/media/logo.291b6cc6.svg\";","module.exports = __webpack_public_path__ + \"static/media/purple-logo.3276c2f6.svg\";"],"sourceRoot":""}